<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
        'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>

<mapper namespace='com.abc.cpqs.mapper.UserMapper'>
    <cache type="org.mybatis.caches.ehcache.EhcacheCache" />
    <resultMap id="UserDBResult" type="User">
        <result column="id" property="id"/>
        <result column="name" property="name"/>
        <result column="email" property="email"/>
        <result column="country" property="country"/>
        <result column="password" property="password"/>
    </resultMap>

    <select id='getUserById' parameterType='int' resultMap='UserDBResult' useCache="true">
        SELECT
        id,name,email,country,password
        FROM Users
        WHERE ID = #{id}
    </select>

    <select id='getAllUsers'  resultType='User'>
        SELECT
        *
        FROM Users
    </select>

    <insert id="insertUser" parameterType='User'>
        insert into Users (id, name, email, country, password)
        values(#{id}, #{name}, #{email}, #{country}, #{password})
    </insert>

    <update id="updateUser" parameterType="User">
        update Users set
        name=#{name},
        email=#{email},
        country=#{country},
        password=#{password}
        where id=#{id}
    </update>

    <update id="updateUserName" parameterType="map">
        update Users set name = #{name}
        where id = #{id}
    </update>
</mapper>